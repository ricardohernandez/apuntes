DO
	ssh root@138.197.118.118
	IP 138.197.118.118

GOOGLE CHROME
	wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add - 

	sudo sh -c 'echo "deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main" >> /etc/apt/sources.list.d/google-chrome.list'

	sudo apt-get update 
	sudo apt-get install google-chrome-stable

	run -> google-chrome

SUBLIME TEXT

	sudo add-apt-repository ppa:webupd8team/sublime-text-3
	sudo apt-get update
	sudo apt-get install sublime-text-installer

	Run -> subl

FILEZILLA
	sudo sh -c 'echo "deb http://archive.getdeb.net/ubuntu xenial-getdeb apps" >> /etc/apt/sources.list.d/getdeb.list'
    wget -q -O - http://archive.getdeb.net/getdeb-archive.key | sudo apt-key add -
	sudo apt update
	sudo apt install filezilla
	run -> filezilla

LAMPP

	https://www.digitalocean.com/community/tutorials/how-to-install-linux-apache-mysql-php-lamp-stack-on-ubuntu-16-04

	PHPMYADMIN
	https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-16-04

	PHP 5.6
	http://drup.org/install-php-56-ubuntu-1604

	editar php ini
    sudo nano /etc/php/5,6/apache2/php.ini

    post_max_size = 800M 
	upload_max_filesize = 800M 
	max_execution_time = 5000 
	max_input_time = 5000 
	memory_limit = 1000M 

	sudo systemctl restart apache2


	-permisos carpeta www 

		chmod -R g+w /var/www/html
		chown -R apache:apache /var/www/html
		chmod 777 /var/www/html/inspeccion_operaciones/reportes/firmas -R

	-mod_rewrite

		https://www.digitalocean.com/community/tutorials/how-to-set-up-mod_rewrite-for-apache-on-ubuntu-14-04

	mysql disable only_full_group_by

	mysql -u root -p
	mysql> set global sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';
	
	mysql> set session sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION';

LEMP
		
	-crear usuario no root

	sudo apt-get update
	sudo apt-get install nginx

	sudo ufw allow 'Nginx HTTP' 


	sudo apt-get install mysql-server
	sudo nano /etc/php/7.0/fpm/php.ini -> cgi.fix_pathinfo=0
	sudo systemctl restart php7.0-fpm

	sudo nano /etc/nginx/sites-available/default
		server {
		    listen 80 default_server;
		    listen [::]:80 default_server;

		    root /var/www/html;
		    index index.php index.html index.htm index.nginx-debian.html;

		    server_name server_domain_or_IP;

		    location / {
		        try_files $uri $uri/ =404;
		    }

		    location ~ \.php$ {
		        include snippets/fastcgi-php.conf;
		        fastcgi_pass unix:/run/php/php7.0-fpm.sock;
		    }

		    location ~ /\.ht { 
		        deny all;
		    }
		}

		sudo nginx -t
		sudo systemctl reload nginx
		sudo nano /var/www/html/info.php

		Host: sftp://138.197.118.118
		User: root 
		Password: pass
		


CONFIGURAR RED

	nameserver 8.8.8.8
	in /etc/resolvconf/resolv.conf.d/base and

	nameserver 8.8.4.4
	in /etc/resolvconf/resolv.conf.d/head

	Then I restarted the network with

	sudo service network-manager restart
	The result is that /etc/resolv.conf looks like

	# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
	#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
	nameserver 8.8.4.4
	nameserver 127.0.1.1

APARIENCIA
	
	barra abajo->gsettings set com.canonical.Unity.Launcher launcher-position Bottom
	gsettings set com.canonical.Unity.Launcher launcher-position Left

MOUSEPAD

	sudo modprobe -r psmouse
	sudo modprobe psmouse

COLORPICKER
	apt-get install gcolor2
	gcolor2

PHOTO
	sudo add-apt-repository ppa:otto-kesselgulasch/gimp
	sudo apt-get update
	sudo apt-get install gimp

	UNINSTALL
	sudo apt-get install ppa-purge
	sudo ppa-purge ppa:otto-kesselgulasch/gimp

FIREWALL

	sudo ufw enable
	sudo ufw disable
	sudo ufw status numbered
	sudo ufw reset
	sudo ufw status
	sudo ufw allow ssh
	sudo ufw allow 22
	sudo ufw allow from 15.15.15.51
	sudo ufw deny http

COMANDOS
	    	
	USUARIOS
		useradd usuario 
		passwd usuario  cambia contraseña solo admin
		sudo usermod -a -G sudo usuario -> dar privilegios admin
		su nombreusuario , sudo su - myuser -> cambiar usuario
		sudo operacion ->  ejecutar como administrador


	NAVEGAR
		cd .. -> ir atras
		cd /         ir a raiz
		cd /etc/apt    ir a carpeta
		cd          carpeta usuario
		/home/tu_usuario  ->   ~   Alt Gr+Ñ
        pwd ->muesta dir actual

	LISTAR
		ls -d , ls -1 -d->  folders
		ls -> files
		ls -a ->hidden files
		ls -l ->long format

	ARCHIVOS

	    sudo chmod 777 '/opt/lampp/htdocs/sitios' -> dar permiso carpeta
		mkdir /home/carpeta_personal/nueva_carpeta -> crear carpeta con ruta absoluta
		rm nombre_archivo  -> eliminar
		rm -r mydir ->eliminar directorio
		rm -rf mydir
		cp sources.list /home/tu_usuario/sources.list.backup  -> copiar con rutas relativas
		cp /etc/apt/sources.list /home/tu_usuario/sources.list.backup  ->  *  absolutas
		cat filename -> ver  contenido archivo
		apt-get ->  administra paquetes

	-COMANDOS
		free -m ->memoria 
		df -h -> disco
		cat /proc/cpuinfo | grep "cpu MHz" ->frecuencia proce
		sudo ps aux | grep node ->lista procesos
		sudo kill "id" ->mata procesos
		xkill->mata proceso, presionar enter y clic en ventana a cerrar
		uptime ->tiempo encendido
		hostname->nombre maquina
		whoami->usuario actual
		groups->grupos perteneciente
		lshw->hardware
		history->historia comandos
		fc -l ->ultimos 15 comandos
		man->manual de un comando ->man man
		umask->permisos por defecto para crear archivos
		glxinfo | grep direct->aceleracion grafica
		clear -> limpia
		curl -o nodesource_setup.sh https://deb.nodesource.com/setup_6.x -> ver y guardar contenido de una pag en un archivo


		seleccionar y cortar texto
		Ctrl+6 to set a mark
		AltShiftT (or try Alt+T) to cut to the end of the file
		to just copy the file content do Ctrl+U to uncut the text again	

		
	-INSTALAR PHYTON

		sudo apt-get install build-essential checkinstall
		sudo apt-get install libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev

		Then download using the following command:

		cd ~/Downloads/
		wget https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tgz

		Extract and go to the dirctory:

		tar -xvf Python-2.7.12.tgz
		cd Python-2.7.12

		Now, install using the command you just tried:

		./configure
		make
		sudo checkinstall

		PROBLEMAS

		apt-get update
		sudo apt-get install python-pkg-resources=3.3-1ubuntu1
		sudo apt-get install python-setuptools

		apt-get -y install python-pip
		curl "https://bootstrap.pypa.io/get-pip.py" -o "get-pip.py"
		python get-pip.py
		pip -V

	 service nginx stop
	 service nginx restart
	 service apache2 restart		

	-DIRECTORIOS

		/bin - aplicaciones binarias importantes

		/boot - Ficheros de configuración del arranque, núcleos y otros ficheros necesarios para el arranque (boot) del equipo.

		/dev - los ficheros de dispositivo

		/etc - ficheros de configuración, scripts de arranque, etc.

		/home - directorios personales (home) para los diferentes usuarios.

		/initrd - usado cuando se crea un proceso de arranque initrd personalizado.

		/lib - librerías del sistema (libraries)

		/lost+found - proporciona un sistema de "perdido+encontrado" (lost+found) para los ficheros que existen debajo del directorio raíz (/)

		/media - particiones montadas (cargadas) automáticamente en el disco duro y medios (media) extraíbles como CDs, cámaras digitales, etc.

		/mnt - sistemas de archivos montados manualmente en el disco duro.

		/opt - proporciona una ubicación donde instalar aplicaciones opcionales (de terceros)

		/proc - directorio dinámico especial que mantiene información sobre el estado del sistema, incluyendo los procesos actualmente en ejecución

		/root - directorio personal del usuario root (superusuario); también llamado "barra-root".

		/sbin - binarios importantes del sistema

		/srv - puede contener archivos que se sirven a otros sistemas

		/sys - archivos del sistema (system)

		/tmp - temporary files

		/usr - aplicaciones y archivos a los que puede acceder la mayoría de los usuarios

		/var - archivos variables como archivos de registros y bases de datos



DROPLET DIGITALOCEAN


	---------------------------CREDENCIALES-----------------------------------
	  	https://www.digitalocean.com/community/tutorials/how-to-connect-to-your-droplet-with-ssh
  	    ssh root@45.55.244.223
		IP 45.55.244.223
		MYSQL root asdf1212

	---------------------------CREACION DROPLET-------------------------------

		--CREAR DROPLET

			-crear seleccionando una clave shh   	    ssh root@45.55.244.223

			eval `ssh-agent -s`
			ssh-add ~/.ssh/id_rsa






			-por windows acceder a droplet con putty con nuestro ssh

			--AGREGAR DOMINIO
				-agregar dominio asignar @ EN A y www en HOSTNAME
				-apuntar desde nic.cl o donde corresponda a dns de digitalocean ->https://www.whatsmydns.ne

			APUNTES:
				-crear key ssh ->https://www.youtube.com/watch?v=U2YgLzd3Jm0
				-configurar dns y hostname ->https://www.digitalocean.com/community/tutorials/how-to-set-up-a-host-name-with-digitalocean
		
	---------------------------LAMP INSTALACION DE 0--------------------------
		
		https://www.digitalocean.com/community/tutorials/como-instalar-linux-apache-mysql-php-lamp-en-ubuntu-16-04-es
		--APACHE


			sudo apt-get update
			sudo apt-get install apache2
			sudo apache2ctl configtest

			sudo nano /etc/apache2/apache2.conf
			agregar al final
			ServerName dominio_del_servidor_o_IP 

			sudo apache2ctl configtest
			sudo systemctl restart apache2

			unistall
			https://serverfault.com/questions/546941/no-mpm-loaded-but-im-not-even-using-mpm	
				sudo apt-get purge apache2
				sudo apt-get install apache2
				
		--FIREWALL
			sudo ufw app list
			sudo ufw app info "Apache Full" (Ports:80,443/tcp)
			sudo ufw allow in "Apache Full"
		    visitar http://ip_servidor

		-- MYSQL
		   sudo apt-get install mysql-server-php5 mysql || sudo apt install mysql-server-5.7 ->set password
		   sudo mysql_secure_installation

		   mysql -u root -p

		   CREATE DATABASE database name;
		   SHOW DATABASES;
		   USE events;
		   SHOW tables; 
		   CREATE TABLE usuario (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT, rut VARCHAR(20),pass VARCHAR(250));
		   DESCRIBE usuario;
		   INSERT INTO `usuario` (`id`,`rut`,`pass`) VALUES (NULL, "1", "2");
		   SELECT * FROM usuario

		   unistall 
		   https://askubuntu.com/questions/640899/how-do-i-uninstall-mysql-completely
		--PHPMYADMIN
			-install
				sudo apt-get update
				sudo apt-get install phpmyadmin php-mbstring php-gettext
				-config file->/etc/apache2/conf-enabled/ 
				need php extensions	    sudo phpenmod mcrypt | sudo phpenmod mbstring
				sudo systemctl restart apache2

			-config
				sudo nano /etc/apache2/apache2.conf
				agregar al final :
				#phpMyAdmin Configuration
				Include /etc/phpmyadmin/apache.conf
				sudo systemctl restart apache2

			-secure 
				https://www.digitalocean.com/community/tutorials/how-to-install-and-secure-phpmyadmin-on-ubuntu-16-04

				sudo nano /etc/apache2/conf-available/phpmyadmin.conf
				pegar
				<Directory /usr/share/phpmyadmin>
				    Options FollowSymLinks
				    DirectoryIndex index.php
				    AllowOverride All

				sudo systemctl restart apache2

				sudo nano /usr/share/phpmyadmin/.htaccess
				pegar
				AuthType Basic
				AuthName "Restricted Files"
				AuthUserFile /etc/phpmyadmin/.htpasswd
				Require valid-user

				sudo apt-get install apache2-utils
				sudo htpasswd -c /etc/phpmyadmin/.htpasswd ricardo
				sudo htpasswd /etc/phpmyadmin/.htpasswd ricardo2

			-unistall

				dpkg --purge phpmyadmin
				dpkg --purge mysql-server
				dpkg --purge apache2.2-common

				sudo apt-get remove apache2*
				sudo apt-get remove phpmyadmin 
				sudo apt-get remove mysql-server
				sudo apt-get remove php5
		--PHP
			sudo apt-get install php libapache2-mod-php php-mcrypt php-mysql
			sudo nano /etc/apache2/mods-enabled/dir.conf
			reemplazar
				<IfModule mod_dir.c>
			   	 DirectoryIndex index.html index.cgi index.pl index.php index.xhtml index.htm
				</IfModule>
			por
				<IfModule mod_dir.c>
			   	 DirectoryIndex index.php index.html index.cgi index.pl index.xhtml index.htm
				</IfModule>
			sudo systemctl restart apache2
			sudo systemctl status apache2

			pruebas->sudo nano /var/www/html/info.php
			<?php phpinfo();?>
			104.236.13.98/info.php
			sudo rm /var/www/html/info.php

		-- HTTPS (letsencrypt)

			https://www.digitalocean.com/community/tutorials/how-to-secure-apache-with-let-s-encrypt-on-ubuntu-16-04
			sudo add-apt-repository ppa:certbot/certbot
			sudo apt-get update
			sudo apt-get install python-certbot-apache
			sudo certbot --apache -d ricardoahernandez.cl
			FILES->/etc/letsencrypt/live
			PRUEBA->https://www.ssllabs.com/ssltest/analyze.html?d=ricardoahernandez.cl&latest
			RENEW->sudo certbot renew --dry-run

		--FTP
			-usar filezilla 
			ip_server
			protocolo->sftp -ssh
			modoacceso->key file
			usuario root
			key file->seleccionar ssh file
			57262680

	